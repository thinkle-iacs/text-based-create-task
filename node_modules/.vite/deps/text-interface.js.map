{
  "version": 3,
  "sources": ["../../text-interface/dist/text-interface.es.js"],
  "sourcesContent": ["(function(){\"use strict\";try{if(typeof document<\"u\"){var t=document.createElement(\"style\");t.appendChild(document.createTextNode(\".text-interface{padding-left:1em;padding-right:1em;width:100%;height:100%;--offwhite: var(--ti-offwhite, #aaa);--grey: var(--ti-grey, #888);--black: var(--ti-black, #222);--white: var(--ti-white, #fefefe);--font: var(--ti-font, Roboto, sans-serif);--output-font: var(--ti-output-font, monospace);background-color:var(--black, #222);color:var(--white, #fefefe);position:sticky;top:0;max-height:var(--ti-max-height, 90vh);overflow-y:scroll;margin-right:auto;margin-left:auto;max-width:var(--ti-max-width, 28em);min-width:var(--ti-min-width, 20em);font-family:var(--font, Roboto, sans-serif);font-size:var(--ti-font-size, 1em)}.text-interface h2{position:sticky;top:0;background-color:var(--black, #222);margin:0;padding-top:1em;padding-bottom:1em;border-bottom:1px dotted var(--grey, #888)}.text-interface .input-wrap{border:1px dotted var(--grey, #888);padding:1em;margin-top:1em;margin-bottom:1em;opacity:.1;font-family:var(--output-font, monospace)}.text-interface .input-wrap.active{opacity:1}.text-interface .placeholder{font-style:italic;color:var(--offwhite, #aaa)}.output img{margin:1em;max-width:80%;animation:fade-in .5s}.output{font-family:var(--output-font, monospace)}.output.echo{color:var(--ti-echo-color, var(--offwhite, #aaa));font-family:var(--echo-font, var(--output-font, monospace))}@keyframes fade-in{0%{opacity:0;transform:scale(0);transform-origin:top left}to{opacity:1;transform:scale(1)}}.text-interface::-webkit-scrollbar{width:8px}.text-interface::-webkit-scrollbar-track{background:var(--ti-scroll-track-color, var(--black, #222));border-radius:10px}.text-interface::-webkit-scrollbar-thumb{background-color:var(--ti-scroll-thumb-color, var(--grey, #888));border-radius:10px;border:2px solid var(--black, #222)}.text-interface::-webkit-scrollbar-thumb:hover{background-color:var(--ti-scroll-thumb-hover-color, #555)}.text-interface::-webkit-scrollbar-thumb:active{background-color:var(--ti-scroll-thumb-active-color, #333)}\")),document.head.appendChild(t)}}catch(o){console.error(\"vite-plugin-css-injected-by-js\",o)}})();\nconst r = [\"yes\", \"yeah\", \"yep\", \"yup\", \"true\", \"t\", \"y\", \"aye\", \"yup\"], o = [\"no\", \"n\", \"false\", \"f\", \"nope\", \"nah\"];\nclass a {\n  constructor(t = document.body, e = \"Text Interface\") {\n    this.listener = null, this.outputAnimationLength = 800, this.outputDelay = 300, this.shouldStealFocus = !1, this.scrollOptions = {\n      behavior: \"smooth\",\n      block: \"center\",\n      inline: \"nearest\"\n    }, this.outputQueue = [], this.div = document.createElement(\"div\"), this.div.classList.add(\"text-interface\"), t.appendChild(this.div), this.div.innerHTML = `\n      <h2 class=\"ti-title\">${e}</h2>\n      <div class=\"output\">\n      </div>\n      <div class=\"input-wrap\">\n          <div \n             class=\"input\" \n             contenteditable \n             placeholder=\"Type here...\">\n          </div>\n          <div class=\"placeholder\">Type and hit return...</div>\n      </div>\n    `, this.inputWrap = this.div.querySelector(\".input-wrap\"), this.inputEl = this.div.querySelector(\".input\"), this.outputEl = this.div.querySelector(\".output\"), this.placeholderEl = this.div.querySelector(\n      \".placeholder\"\n    ), this.setupInputListener(), this.shouldStealFocus && this.inputEl.focus();\n  }\n  setTitle(t) {\n    this.div.querySelector(\".ti-title\").textContent = t;\n  }\n  clear() {\n    this.outputEl.innerHTML = \"\";\n  }\n  setScrollOptions(t) {\n    this.scrollOptions = t;\n  }\n  async readChoice(t, e = \"Choose one of the following:\", i = \"You must choose one of the options!\") {\n    this.output(e);\n    for (let u = 0; u < t.length; u++)\n      this.output(`${u + 1}. ${t[u]}`);\n    let s = await this.readText();\n    if (t.indexOf(s) > -1)\n      return s;\n    if (s = s.replace(/\\D/g, \"\"), s != \"\") {\n      let u = Number(s);\n      if (!isNaN(u) && u <= t.length && u > 0)\n        return t[Math.floor(u) - 1];\n    }\n    return this.output(i), await this.readChoice(t, e, i);\n  }\n  async readYesOrNo(t = \"Say yes or no!\") {\n    let e = await this.readText();\n    return e = e.toLowerCase(), e = e.replace(/\\s+/, \"\"), r.indexOf(e) > -1 ? !0 : o.indexOf(e) > -1 ? !1 : (this.output(t), await this.readYesOrNo(t));\n  }\n  async readNumber(t = \"Please type a number\") {\n    let e = await this.readText(), i = Number(e);\n    return isNaN(i) ? (this.output(t), this.readNumber(t)) : i;\n  }\n  async readInteger(t = \"Please type a whole number\") {\n    let e = await this.readText(), i = Number(e);\n    return isNaN(i) || i % 1 != 0 ? (this.output(t), this.readInteger(t)) : i;\n  }\n  async readIntegerInRange(t, e, i = `Please type a whole number within the range of ${t} and ${e}`) {\n    let s = await this.readText(), n = Number(s);\n    return isNaN(n) || n % 1 != 0 || n > e || n < t ? (this.output(i), await this.readIntegerInRange(t, e, i)) : n;\n  }\n  async readNumberInRange(t, e, i = `Please type a whole number within the range of ${t} and ${e}`) {\n    let s = await this.readText(), n = Number(s);\n    return isNaN(n) || n > e || n < t ? (this.output(i), await this.readNumberInRange(t, e, i)) : n;\n  }\n  readText() {\n    return this.shouldStealFocus && this.inputEl.focus(), this.inputWrap.classList.add(\"active\"), this.inputWrap.scrollIntoView(\n      this.scrollOptions\n    ), new Promise((t, e) => {\n      this.listener = t;\n    });\n  }\n  prompt(t) {\n    return this.output(t), this.readText();\n  }\n  promptYesOrNo(t) {\n    return this.output(t), this.readYesOrNo();\n  }\n  promptNumber(t, e) {\n    return this.output(t), this.readNumber(e);\n  }\n  promptInteger(t, e) {\n    return this.output(t), this.readInteger(e);\n  }\n  promptNumberInRange(t, e, i, s) {\n    return this.output(t), this.readNumberInRange(e, i, s);\n  }\n  promptIntegerInRange(t, e, i, s) {\n    return this.output(t), this.readIntegerInRange(e, i, s);\n  }\n  showElement(t) {\n    this.outputting ? this.outputQueue.push([\"element\", t]) : (this.outputting = !0, this.outputEl.appendChild(t), t.scrollIntoView(this.scrollOptions), setTimeout(() => {\n      this.outputting = !1, this.doNextOutput();\n    }, this.outputDelay));\n  }\n  showHTML(t) {\n    let e = document.createElement(\"div\");\n    e.innerHTML = t, this.showElement(e);\n  }\n  showImage(t, e = \"An image\") {\n    let i = document.createElement(\"img\");\n    i.setAttribute(\"src\", t), i.setAttribute(\"alt\", e), this.showElement(i);\n  }\n  output(t, e = !1) {\n    if (t = \"\" + t, this.outputting)\n      this.outputQueue.push([\"text\", t, e]);\n    else {\n      let i = document.createElement(\"div\");\n      if (i.classList.add(\"output\"), e && i.classList.add(\"echo\"), !this.outputAnimationLength || e)\n        i.textContent = t;\n      else {\n        this.outputting = !0;\n        let s = this.outputAnimationLength / t.length;\n        const n = () => {\n          if (t[0] === `\n`) {\n            const u = document.createElement(\"br\");\n            i.appendChild(u);\n          } else {\n            const u = document.createTextNode(t[0] || \"\");\n            i.appendChild(u);\n          }\n          t = t.substring(1), t.length ? setTimeout(n, s) : (this.outputting = !1, this.doNextOutput());\n        };\n        setTimeout(n, this.outputDelay);\n      }\n      this.outputEl.appendChild(i), i.scrollIntoView(this.scrollOptions);\n    }\n  }\n  doNextOutput() {\n    if (this.outputQueue.length) {\n      let t = this.outputQueue[0];\n      this.outputQueue = this.outputQueue.slice(1);\n      let e = t[0], i = t.slice(1);\n      e == \"text\" ? this.output(...i) : this.showElement(...i);\n    }\n  }\n  setupInputListener() {\n    this.inputEl.addEventListener(\"keyup\", (t) => {\n      if (t.code == \"Enter\" || t.key == \"Enter\") {\n        let i = this.inputEl.textContent.replace(/\\n$/, \"\");\n        this.output(i, !0), this.listener && (this.listener(i), this.listener = null), this.inputWrap.classList.remove(\"active\"), setTimeout(() => {\n          this.inputEl.textContent = \"\";\n        }, 1);\n      }\n    }), this.placeholderEl.addEventListener(\"click\", () => this.inputEl.focus());\n  }\n}\nexport {\n  a as TextInterface\n};\n"],
  "mappings": "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",
  "names": ["o"]
}
